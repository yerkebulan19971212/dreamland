function initiatepv(){if(void 0!==window.isMinervaloaded&&window.isMinervaloaded){if(!dl.channel.id_ef_visit){dl.channel.id_ef_visit=dl.utility.GetCookieValue("tts"),dl.channel.id_ef_visit&&(dl.channel.id_ef_visit=dl.channel.id_ef_visit.split("&")[0].split("=")[1]);var e=JSON.parse(JSON.stringify(dl.channel));dl.utility.setsessionStorageObject("channel",e)}window[ef_dl_name].events.pushWithEvent({event:"screen.load.auto.dataLayer.load"}),window.localStorage.cwa_formInfo&&dl.events.pushWithEvent({event:"form.interact.auto.success.formSuccess",form:dl.form})}else setTimeout(initiatepv,200)}window.GetCookieValue=function(e){return window.dl.utility.GetCookieValue(e)},window.Minerva={},window.Minerva.events=function(){var e={},t=e.hasOwnProperty;return{subscribe:function(i,a){t.call(e,i)||(e[i]=[]);var o=e[i].push(a)-1;return{remove:function(){delete e[i][o]}}},publish:function(i,a){t.call(e,i)&&e[i].forEach((function(e){e(void 0!==a?a:{})}))}}}(),window.DTMDataLayer=window.DTMDataLayer||{},window.setPageNameDependentProps=function(e){e.indexOf("undefined")>-1&&dl.form&&dl.form.library_x&&(e=dl.page.path_full+"thank-you/"),dl.user.age_group=dl.utility.GetCookieValue("ZEUS_SESSION_AGEGROUPCODE");var t=e;if(e.indexOf("[")>-1&&(t="/"+e.replaceAll(":","/").replaceAll("[","").replaceAll("]","")+"/"),t.indexOf("https:")>-1&&(t=(t=(t=t.replace(location.protocol+"//"+dl.page.domain_ef,"")).replace(location.protocol+"//"+dl.page.domain,"")).indexOf("?")>-1?t.substr(0,t.indexOf("?")):t),t!==dl.page.path_full){if(dl.page.path_full=t,dl.page.url_clean=location.protocol+"//"+dl.page.domain_ef+t,dl.page.url_full=location.protocol+"//"+dl.page.domain_ef+t+location.search,window.localStorage.cwa_formInfo){dl.user.form_activity=dl.user.form_activity||{},dl.user.form_activity.form_start_count=0,dl.user.form_activity.last_enquiry_date=(new Date).getTime();var i=dl.utility.GetCookieValue("CRMProgram").split("|")[0],a=dl.utility.GetCookieValue("EFProgram").split("|")[0],o=4==dl.utility.GetCookieValue("EFProgram").split("|").length?dl.utility.GetCookieValue("EFProgram").split("|")[3]:"";""!==i&&void 0!==i?dl.user.form_activity.last_program_id_crm=i.toUpperCase():""!==a&&void 0!==a&&(dl.user.form_activity.last_program_id_crm=a.toUpperCase()),dl.user.form_activity.log=dl.user.form_activity.log||[],dl.user.form_activity.log.unshift({program_id:a,program_id_crm:i,product_id:o,timestamp:dl.user.form_activity.last_enquiry_date}),dl.form=dl.form||{},dl.form.program_id=a,dl.form.program_id_crm=i,dl.form.product_id=o}var r=JSON.parse(JSON.stringify(dl.user));dl.utility.setLocalStorageObject("user",r),initiatepv()}};var domainmkt_mapping={"careers.ef.com":"WE","careers.ef.com.cn":"CN","liuxue.ef.com.cn":"CN","ef-australia.com.au":"AU","ef-czech.cz":"CZ","ef-danmark.dk":"DK","ef-ireland.ie":"IE","ef-italia.it":"IT","ef-luxembourg.lu":"LU","ef-luxemburg.lu":"LG","ef-slovakia.sk":"SK","ef-vietnam.com.vn":"VN","ef.at":"AT","ef.be":{"/fr/":"BE","/nl/":"BX"},"ef.co.hu":"HU","ef.co.id":"ID","ef.co.kr":"KR","ef.co.nz":"NZ","ef.co.th":"TH","ef.co.uk":"GB","ef.co.ve":"VE","ef.com":{"/wwen/":"WE","/az/":"AZ","/ca/":"CA","/cafr/":"FC","/cl/":"CL","/in/":"IN","/sa/":"SA","/wwar/":"WM","/wwes/":"WL","/wwfa/":"WE","/wwfr/":"WC","/wwpt/":"WP","/wwru/":"WR"},"ef.com.ar":"AR","ef.com.br":"BR","ef.com.co":"CO","ef.com.ec":"EC","ef.com.es":"ES","ef.com.fr":"FR","ef.com.hk":"HK","ef.com.ly":"LY","ef.com.mx":"MX","ef.com.pa":"PA","ef.com.pe":"PE","ef.com.tr":"TR","ef.com.tw":"TW","ef.com.uy":"UY","ef.com.vn":"VN","ef.cr":"CR","ef.de":"DE","ef.dz":{"/fr/":"DZ","/ar/":"DX"},"ef.edu":"US","ef.edu.pt":"PT","ef.fi":"FI","ef.fr":"FR","ef.kz":"KZ","ef.lv":"LV","ef.nl":"NL","ef.no":"NO","ef.pl":"PL","ef.ro":"RO","ef.ru":"RU","ef.se":"SE","ef.sg":"SG","ef.si":"SI","ef.tn":{"/fr/":"TN","/ar/":"TX"},"efjapan.co.jp":"JP","efswiss.ch":{"/de/":"CS","/fr/":"CH","/it/":"CT"}},ef_dl_name="dl";class ef_DataLayer{getEventsObject(){var e;return(e=window.dl&&window.dl.events?window.dl.events:[]).listeners={},e.addListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.pushWithEvent=function(){this.length;const e=Array.prototype.slice.call(arguments);for(let t=0;t<e.length;t++)this.push(e[t]);this.triggerEvent("add",e)},e.triggerEvent=function(e,t){this.listeners[e]&&this.listeners[e].length&&this.listeners[e].forEach((i=>i(e,t,this)))},e}getUserObject(){var e=-1,t=this.utility.localStorage.user?JSON.parse(JSON.stringify(this.utility.localStorage.user)):{};if(t.age_group=this.utility.GetCookieValue("ZEUS_SESSION_AGEGROUPCODE"),t.id_google=this.utility.GetQueryParameter("_ga")?this.utility.GetQueryParameter("_ga").split("-")[1]:"",!t.id_google){var i=this.utility.GetCookieValue("_ga");t.id_google=i?i.split(".")[2]+"."+i.split(".")[3]:""}if(t.id=t.id_google,t.id_ef=this.utility.GetCookieValue("triton"),t.activity=t.activity||{},t.activity.path_level_1_log=t.activity.path_level_1_log||[],t.activity.path_level_1_log.length>0)for((e=t.activity.path_level_1_log.indexOf(this.page.path_level_1))>-1&&t.activity.path_level_1_log.splice(e,1);t.activity.path_level_1_log.length>4;)t.activity.path_level_1_log.pop();if(t.activity.path_level_1_log.unshift(this.page.path_level_1),window.localStorage.cwa_formInfo){t.form_activity=t.form_activity||{},t.form_activity.form_start_count=0,t.form_activity.last_enquiry_date=(new Date).getTime();var a=this.utility.GetCookieValue("CRMProgram").split("|")[0],o=this.utility.GetCookieValue("EFProgram").split("|")[0],r=4==this.utility.GetCookieValue("EFProgram").split("|").length?this.utility.GetCookieValue("EFProgram").split("|")[3]:"";""!==a&&void 0!==a?t.form_activity.last_program_id_crm=a.toUpperCase():""!==o&&void 0!==o&&(t.form_activity.last_program_id_crm=o.toUpperCase()),t.form_activity.log=t.form_activity.log||[],t.form_activity.log.unshift({program_id:o,program_id_crm:a,product_id:r,timestamp:t.form_activity.last_enquiry_date})}var l=JSON.parse(JSON.stringify(t));return l.activity.last_visit_date=(new Date).getTime(),this.utility.setLocalStorageObject("user",l),t}getChannelObject(){var e=this.utility.sessionStorage.channel?JSON.parse(JSON.stringify(this.utility.sessionStorage.channel)):{};e.url_init=e.url_init||[];var t="";if(document.referrer&&document.referrer.split("/")[2]!==location.hostname&&(t=document.referrer),(t||location.search.indexOf("&utm_")>-1||location.search.indexOf("?utm_")>-1||0===e.url_init.length)&&(e.url_init.length>0&&e.url_init[e.url_init.length-1].entry===location.href&&e.url_init[e.url_init.length-1].referrer===t||e.url_init.push({entry:location.href,entryClean:this.page.url_clean,path_level_1:this.page.path_level_1,path_full:this.page.path_full,referrer:t,timestamp:(new Date).getTime()})),e.url_vanity=e.url_vanity||[],this.utility.GetCookieValue("RedirectedFrom")&&(e.url_vanity.unshift(this.utility.GetCookieValue("RedirectedFrom")),document.cookie="RedirectedFrom=; path=/; expires = Thu, 01 Jan 1970 00:00:00 GMT"),e.utm=e.utm||[],location.search.toLocaleLowerCase().indexOf("utm_source")>-1){var i={source:this.utility.GetQueryParameter("utm_source"),medium:this.utility.GetQueryParameter("utm_medium"),campaign:this.utility.GetQueryParameter("utm_campaign"),term:this.utility.GetQueryParameter("utm_term"),content:this.utility.GetQueryParameter("utm_content")};e.utm.unshift(i)}var a=this.utility.GetQueryParameter("gclid");a&&(e.gclid=a),e.id_ef_visit=this.utility.GetCookieValue("tts"),e.id_ef_visit&&(e.id_ef_visit=e.id_ef_visit.split("&")[0].split("=")[1]);var o=JSON.parse(JSON.stringify(e));return this.utility.setsessionStorageObject("channel",o),e}getFallBackMarketCode(e){var t=location.hostname.replace("www.","").replace("qa.","").replace("qa-",""),i="";if(e.market_code=domainmkt_mapping[t],"object"==typeof e.market_code){var a=e.market_code;i="/"+location.pathname.split("/")[1]+"/",e.market_code=e.market_code[i],e.market_code||(e.market_code=a[Object.keys(a)[0]],i="")}return e.market_code||(e.market_code="WW",i=""),e.domain_ef=e.domain+i.substring(0,i.length-1),e}getPageObject(){var e=this.utility.GetCookieValue("efdomain"),t={url_full:location.href,domain:location.hostname,market_code:this.utility.GetCookieValue("mc")?this.utility.GetCookieValue("mc"):window.MarketCode,domain_ef:e?e.indexOf("/")>-1?e.substring(0,e.length-1):e:"",eflang:this.utility.GetCookieValue("eflang")};(!t.market_code||!t.domain_ef&&"jobs.jobvite.com"!==location.hostname||["www.ef.be","www.ef.com","www.ef.dz","www.ef.tn","www.efswiss.ch","careers.ef.com","careers.ef.com.cn"].indexOf(location.hostname)>-1)&&(t=this.getFallBackMarketCode(t)),t.url_clean=location.origin+location.pathname,t.domain_ef||(t.domain_ef=t.domain),t.path_full=t.url_clean.replace(location.protocol+"//"+t.domain_ef,"");var i=t.path_full.split("/");return(window.DTMDataLayer&&window.DTMDataLayer.website&&"error"===window.DTMDataLayer.website||window._NEXT_DATA__&&window._NEXT_DATA__.page&&window.__NEXT_DATA__.page.indexOf("error")>0||null!==document.querySelector("body[data-pagetype]")&&"404"===document.querySelector("body[data-pagetype]").getAttribute("data-pagetype"))&&(t.path_full=i.slice(0,1).concat("error").concat(pathlevels_old.slice(2)).join("/")),t.path_level_1=i[1]?"/"+i[1]+"/":"/",t}constructor(){if(window[ef_dl_name])for(var e=Object.keys(window[ef_dl_name]),t=0;t<e.length;t++)this[e[t]]=dl[e[t]];if(this.utility={},this.utility.cookieCache=void 0,this.utility.paramCache=void 0,this.utility.setsessionStorageObject=function(e,t){t.timestamp=(new Date).getTime(),this.sessionStorage[e]=t,sessionStorage[ef_dl_name]=JSON.stringify(this.sessionStorage),localStorage[ef_dl_name+"_session"]=JSON.stringify(this.sessionStorage)},this.utility.setLocalStorageObject=function(e,t){this.localStorage[e]=t,localStorage[ef_dl_name]=JSON.stringify(this.localStorage)},this.utility.localStorage=localStorage[ef_dl_name]?JSON.parse(localStorage[ef_dl_name]):{},!sessionStorage[ef_dl_name]&&localStorage[ef_dl_name+"_session"]&&(sessionStorage[ef_dl_name]=localStorage[ef_dl_name+"_session"]),sessionStorage[ef_dl_name]){var i=JSON.parse(sessionStorage[ef_dl_name]);i.channel.timestamp&&((new Date).getTime()-i.channel.timestamp)/1e3<1800?(delete i.channel.timestamp,this.utility.sessionStorage=JSON.parse(JSON.stringify(i))):i.channel.timestamp?(delete sessionStorage[ef_dl_name],this.utility.sessionStorage={}):this.utility.sessionStorage=JSON.parse(JSON.stringify(i))}else this.utility.sessionStorage={};if(this.utility.cacheCookie=function(){var e=new RegExp(/([a-z0-9_-]+)=(.*)/,"i");this.cookieCache=document.cookie.split(";").reduce((function(t,i){const a=i.match(e);return a&&a[1]&&a[2]&&(t[a[1]]=a[2]),t}),{})},this.utility.GetCookieValue=function(e){this.cookieCache||this.cacheCookie();var t=this.cookieCache[e];return t||(this.cacheCookie(),(t=this.cookieCache[e])||(t="")),t},this.utility.GetQueryParameter=function(e){if(!this.paramCache&&location.search){var t=new RegExp(/([a-z0-9_-]+)=(.*)/,"i");this.paramCache=location.search.substring(1).split("&").reduce((function(e,i){const a=i.match(t);return a&&a[1]&&a[2]&&(e[a[1]]=a[2]),e}),{})}return this.paramCache&&this.paramCache[e.toLocaleLowerCase()]?this.paramCache[e.toLocaleLowerCase()]:""},this.events=this.getEventsObject(),this.page=this.getPageObject(),this.user=this.getUserObject(),window.localStorage.cwa_formInfo){var a=JSON.parse(window.localStorage.cwa_formInfo);this.form={},this.form.id=a.id,this.form.type=a.EnqFormType,a.type&&"Full brochure"===a.type&&(this.form.delivery_pref="offline"),a.type&&"e-brochure"===a.type&&(this.form.delivery_pref="Onine"),this.form.program_id=this.user.form_activity.log[0].program_id,this.form.program_id_crm=this.user.form_activity.log[0].program_id_crm,this.form.product_id=this.user.form_activity.log[0].product_id}this.channel=this.getChannelObject(),this.version={efanalyticstk:"1"}}}window[ef_dl_name]=new ef_DataLayer,initiatepv();